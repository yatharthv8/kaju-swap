{"version":3,"sources":["webpack:///./src/components/Swapper/SwapDialog.vue","webpack:///./src/components/Swapper/SwapDialog.vue?9fee","webpack:///./src/components/Swapper/SwapDialog.vue?b085"],"names":["open","class","_createElementVNode","for","style","_createElementBlock","_hoisted_3","_hoisted_4","onClick","_ctx","_hoisted_5","_hoisted_6","_hoisted_7","placeholder","name","id","$data","$event","onKeyup","$options","_Fragment","_renderList","state","coins","coin","index","key","address","abbr","tok","_hoisted_10","_hoisted_11","_toDisplayString","addedByUser","balance","_hoisted_15","_hoisted_18","props","data","newAddress","showThese","NSDN","this","swapDialNum","methods","mapActions","closeDialog","submitAddress","tokenAddress","action","swapTokenSymbolVal","$store","swap","pathExists","WrapUnwrap","TF","web3","eth","getAccounts","accounts","ethFunc","then","symbol","swapDialogVars","DialnumAdd","dispatch","add","ind","marker","console","log","addToken","i","length","unshift","swal","commit","computed","mapGetters","mounted","push","watch","newVal","filter","toUpperCase","a","indexOf","__exports__","render"],"mappings":"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","file":"js/chunk-01116f68.fab77cf1.js","sourcesContent":["<template>\n  <dialog open>\n    <div class=\"dialog-top\">\n      <br />\n      <span>Select Tokens</span>\n      <span style=\"float: right; cursor: pointer\" @click=\"closeDialog()\"\n        >&times;</span\n      >\n      <br />\n      <hr />\n      <label for=\"address\">New token:</label>\n      <input\n        placeholder=\"custom token\"\n        name=\"address\"\n        id=\"address\"\n        v-model.trim=\"newAddress\"\n        @keyup.enter=\"submitAddress(newAddress, 1, null)\"\n      />\n    </div>\n    <div class=\"dialog-token\">\n      <div\n        v-for=\"(coin, index) in $store.state.coins\"\n        :key=\"coin.address\"\n        @click=\"submitAddress(coin.address, 0, coin.abbr)\"\n      >\n        <ul v-if=\"showThese[index] && this.tok != coin.abbr\">\n          {{\n            coin.abbr\n          }}\n          <br />\n          <small>{{ coin.name }}</small>\n          <small class=\"ABU\" v-if=\"coin.addedByUser\"> | Added by user</small>\n          <span style=\"float: right\">\n            <small>{{ coin.balance }}</small>\n          </span>\n        </ul>\n        <ul v-else-if=\"showThese[index]\" class=\"show-unselectable\">\n          {{\n            coin.abbr\n          }}\n          <br />\n          <small>{{ coin.name }}</small>\n          <small class=\"ABU\" v-if=\"coin.addedByUser\"> | Added by user</small>\n          <span style=\"float: right\">\n            <small>{{ coin.balance }}</small>\n          </span>\n        </ul>\n      </div>\n    </div>\n    <hr />\n    <button style=\"float: right\" @click=\"closeDialog()\">Close</button>\n  </dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\n// import * as COINS from \"../../constants/coins.js\";\nimport * as ethFunc from \"../../ethereumFunctions.js\";\nimport web3 from \"../../../ethereum/web3.js\";\nimport swal from \"sweetalert\";\n\n// const ERC20 = require(\"../../../ethereum/.deps/npm/@rari-capital/solmate/src/tokens/artifacts/ERC20.json\");\n\nexport default {\n  props: [\"swapDialNum\"],\n  data() {\n    return {\n      newAddress: null,\n      showThese: [],\n      NSDN: this.swapDialNum ? 0 : 1,\n      tok: 1,\n    };\n  },\n  methods: {\n    ...mapActions({ closeDialog: \"closeSwapDialog\" }),\n    async submitAddress(tokenAddress, action, abbr) {\n      if (abbr === this.swapTokenSymbolVal[this.NSDN]) {\n        // swal(\"Alert\", \"You cannot select the same token\", \"warning\");\n        // console.log(\"You cannot select the same token\");\n      } else {\n        if (\n          (abbr === \"ETH\" && this.swapTokenSymbolVal[this.NSDN] === \"WETH\") ||\n          (abbr === \"WETH\" && this.swapTokenSymbolVal[this.NSDN] === \"ETH\")\n        ) {\n          this.$store.state.swap.pathExists = false;\n          if (this.swapTokenSymbolVal[0] === \"ETH\") {\n            this.$store.state.swap.WrapUnwrap = \"Wrap\";\n          } else {\n            this.$store.state.swap.WrapUnwrap = \"Unwrap\";\n          }\n          let TF = true;\n          if (abbr === \"WETH\") {\n            TF = false;\n          }\n          try {\n            const accounts = await web3.eth.getAccounts();\n            ethFunc\n              .getBalanceandSymbol(accounts[0], tokenAddress, TF)\n              .then((data) => {\n                this.swapTokenSymbolVal[this.swapDialNum] = data.symbol;\n                this.swapDialogVars.DialnumAdd[this.swapDialNum] = tokenAddress;\n                this.$store.dispatch(\"displayMaxTokenBalance\", {\n                  add: tokenAddress,\n                  ind: this.swapDialNum,\n                  marker: TF,\n                });\n              });\n          } catch (err) {\n            console.log(\"Something went wrong!\");\n          }\n        } else {\n          this.$store.state.swap.WrapUnwrap = null;\n          if (abbr === \"WETH\") {\n            this.$store.state.marker = false;\n          } else if (abbr === \"ETH\") {\n            this.$store.state.marker = true;\n          } else {\n            if (this.swapTokenSymbolVal[this.NSDN] === \"WETH\") {\n              this.$store.state.marker = false;\n            } else {\n              this.$store.state.marker = true;\n            }\n          }\n          // console.log(this.$store.state.marker);\n          this.$store.state.swap.pathExists = true;\n          try {\n            const accounts = await web3.eth.getAccounts();\n            ethFunc\n              .getBalanceandSymbol(\n                accounts[0],\n                tokenAddress,\n                this.$store.state.marker\n              )\n              .then((data) => {\n                if (data) {\n                  // console.log(\"hi\");\n                  this.swapTokenSymbolVal[this.swapDialNum] = data.symbol;\n                  this.swapDialogVars.DialnumAdd[this.swapDialNum] =\n                    tokenAddress;\n                  this.$store.dispatch(\"displayMaxTokenBalance\", {\n                    add: tokenAddress,\n                    ind: this.swapDialNum,\n                    marker: this.$store.state.marker,\n                  });\n                  if (action === 1) {\n                    let addToken = true;\n                    for (let i = 0; i < this.$store.state.coins.length; ++i) {\n                      if (this.$store.state.coins[i].address === tokenAddress) {\n                        addToken = false;\n                      }\n                    }\n                    // console.log(data);\n\n                    if (addToken) {\n                      this.$store.state.coins.unshift({\n                        name: data.name,\n                        abbr: data.symbol,\n                        address: tokenAddress,\n                        balance: data.balance,\n                        addedByUser: true,\n                        marker: false,\n                      });\n                    }\n                  }\n                  this.$store.dispatch(\"checkIfPathExists\");\n                  this.$store.dispatch(\"displayReservesSwap\");\n\n                  this.$store.dispatch(\"conversionRateSwap\");\n                } else {\n                  swal(\"Error\", \"Enter a valid token address\", \"error\");\n                }\n              });\n            // console.log(this.coins);\n          } catch (err) {\n            // console.loh(\"bye\");\n            console.log(\"Invalid token address!\");\n          }\n        }\n        // console.log(this.$store.state.swap.WrapUnwrap);\n        this.$store.dispatch(\"closeSwapDialog\");\n        this.$store.commit(\"resetSwapState\");\n      }\n    },\n  },\n  computed: {\n    ...mapGetters({\n      swapDialogVars: \"getSwapDialog\",\n      swapTokenSymbolVal: \"getSwapTokenSymbol\",\n    }),\n  },\n  mounted() {\n    this.tok = this.swapTokenSymbolVal[this.NSDN];\n    for (let i = 0; i < this.$store.state.coins.length; i++) {\n      this.showThese.push(true);\n    }\n  },\n  watch: {\n    newAddress(newVal) {\n      this.showThese = [];\n      if (newVal.length) {\n        const filter = newVal.toUpperCase();\n        for (let i = 0; i < this.$store.state.coins.length; i++) {\n          const a = this.$store.state.coins[i].name;\n          if (a.toUpperCase().indexOf(filter) > -1) {\n            this.showThese.push(true);\n          } else {\n            this.showThese.push(false);\n            // const adc = this.$store.state.coins[i].address.length;\n            // if (\n            //   newVal.length === adc &&\n            //   adc.toUpperCase().indexOf(filter) > -1\n            // ) {\n            //   this.showThese[i] = true;\n            // }\n          }\n        }\n      } else {\n        for (let i = 0; i < this.$store.state.coins.length; i++) {\n          this.showThese.push(true);\n        }\n      }\n      // console.log(this.showThese);\n    },\n  },\n};\n</script>\n\n<style scoped>\ninput {\n  font-size: 1rem;\n  height: 2rem;\n}\n\nul:hover {\n  background-color: rgb(226, 177, 118);\n}\n\n.ABU {\n  font-size: 0.8rem;\n  color: #333333;\n  font-weight: 400;\n}\n.show-unselectable {\n  color: rgba(44, 41, 41, 0.507);\n  border-radius: 1rem;\n  cursor: auto;\n}\n.show-unselectable:hover {\n  color: rgba(44, 41, 41, 0.507);\n  background: content-box;\n  border-radius: 1rem;\n}\n</style>\n","import { render } from \"./SwapDialog.vue?vue&type=template&id=6eb2bff6&scoped=true\"\nimport script from \"./SwapDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SwapDialog.vue?vue&type=script&lang=js\"\n\nimport \"./SwapDialog.vue?vue&type=style&index=0&id=6eb2bff6&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/yatharthverma/Documents/GIT/kaju-swap/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6eb2bff6\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SwapDialog.vue?vue&type=style&index=0&id=6eb2bff6&scoped=true&lang=css\""],"sourceRoot":""}